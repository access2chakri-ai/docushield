version: 1.0
runtime: python311

build:
  commands:
    build:
      - echo "no-op build"

run:
  pre-run:
    - python3 -m venv /app/venv
    - /app/venv/bin/python -m pip install --no-cache-dir -r /app/backend/requirements.txt
  command: /app/venv/bin/python /app/backend/main.py
  network:
    port: 8000
  env:
    - name: PORT
      value: "8000"
      
  secrets:
    - name: DOCUSHIELD_CONFIG_JSON
      value-from: arn:aws:secretsmanager:us-east-1:192933326034:secret:docushield-backend-env-YwuKYB
